{% extends 'proteomescout/base.html' %}

{% block title %} 
    {{title}} 
{% endblock %}

{% block content %}
{% include 'proteomescout/experiments/navbar.html'%}

<link rel="stylesheet" href="{{url_for('static', filename='css/charts.css')}}">
<div id = "pfam_data" class="data" data-sites="{{sites.json}}" data-domains="{{domains.json}}"></div> 
<div class = "container-fluid">
    
    <h3>PFAM Sites</h3>
    <div class = "row">
        <div class = "col-sm">
            <table id = "pfam_site_table" class="display table table-striped" style="width:100%">
                <thead class="thead-dark">
                <tr>
                    <th></th>
                    <th>Site</th>
                    <th>Peptides</th> 
                </tr>
                </thead>
                <tbody>
                {% for entry in sites.table %}
                <tr> 
                    <td></td>
                    <td>{{ entry[0]}}</td>
                    <td>{{ entry[1]}}</td>
                </tr>
                {% endfor %}
                </tbody>
            </table> 
        </div>
        <div class = "col-sm">
            <div id="site_bar_chart"></div>
            <div id="site_tree_chart"></div>
        </div>
    </div>

    <hr/>
    <h3>PFAM Domains</h3>
    <div class = "row">
        <div class = "col-sm">
            <table id = "pfam_domain_table" class="display table table-striped" style="width:100%">
                <thead class="thead-dark">
                <tr>
                    <th></th>
                    <th>Domain</th>
                    <th>Peptides</th> 
                </tr>
                </thead>
                <tbody>
                {% for entry in domains.table %}
                <tr> 
                    <td></td>
                    <td>{{ entry[0]}}</td>
                    <td>{{ entry[1]}}</td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
        <div class = "col-sm">
            <div id="domain_bar_chart"></div>
            <div id="domain_tree_chart"></div>
            
        </div> 
    </div>

   


</div>
<script type="text/javascript" src="{{url_for('static', filename = 'js/experiment.pfam.js')}}" ></script>
<script type="text/javascript" src="{{url_for('static', filename = 'js/charts/barchart.js')}}" ></script>
<script type="text/javascript" src="{{url_for('static', filename = 'js/charts/treemap.js')}}" ></script>
{% endblock %}